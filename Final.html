<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Final</title>
</head>
<body>
  <header>
    
    <div class="jumbotron jumbotron-fluid bg-success">
      <div class="container">
        <div class="column">
        <h1 class="display-4">Wynncraft</h1>
      <div class="row">
        <div class="col">
          <a class="nav-link bg-warning" href="/Final.html">Character Stat Comparison</a>
        </div>
        <div class="col">
          <a class="nav-link bg-warning" href="/Final2.html">Item Search</a>
        </div>
        </div>
    </div>
  </header>
  <div class="container text-center">
    <img id="myImg" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQZdm8Om0ZEzY0e5af9Vzu7QD620d-JklkWQ&s" alt="WynncraftLogo">
    <form id="userForm"> 
     Player 1<input type="text" name="UUID" value="Shadow_Creeper76">
     Player 2<input type="text" name="UUID2" value="Salted">
    </form>
    <button type="button" onclick="ButtonPress();">Click me!</button>   
    <p id="characterinfo"> </p>
    <p id="characterinfo2"> </p>
    <p id="comparison"></p>
  </div>

    <script type>   
async function ButtonPress() {
    //const url = 'https://api.wynncraft.com/v3/player/c6bea586-9dcd-42bf-afcb-132e67c251e6?fullResult'
    var UUID = document.forms["userForm"]["UUID"].value;
    var UUID2 = document.forms["userForm"]["UUID2"].value;
    const url = 'https://api.wynncraft.com/v3/player/' + UUID + "?fullResult";
    const url2 = 'https://api.wynncraft.com/v3/player/' + UUID2 + "?fullResult";
    //const url2 = 'https://api.wynncraft.com/v3/item/search'
    const character = document.getElementById(characterinfo);
    //https://api.wynncraft.com/v3/player/c6bea586-9dcd-42bf-afcb-132e67c251e6?fullResult
    //https://api.wynncraft.com/v3/item/search/Koi%20Oil%203
  
  
    const option = 
  {
    method: 'GET',
  };
  const response = await fetch(url,option);
  const result = await
  response.text();
  const myObj = JSON.parse(result);
  //console.log(result);
  console.log(myObj);
  characterinfo.innerText = UUID + " has a playtime of  " + myObj.playtime + " hours.";
  console.log(url);

  const option2 = 
  {
    method: 'GET',
  };
  const response2 = await fetch(url2,option2);
  const result2 = await
  response2.text();
  const myObj2 = JSON.parse(result2);
  //console.log(result);
  console.log(myObj2);
  characterinfo2.innerText = UUID2 + " has a playtime of  " + myObj2.playtime + " hours.";
  console.log(url2);
  
  comparison.innerText = "Playtime difference of " + Math.abs(parseInt(myObj2.playtime-myObj.playtime)) + " hours.";


 /* const options = 
  {
    method: 'Post',
    body :
    //JSON.stringify(someObject)
  };

  const response2 = await
  fetch(url2, options);
  */
}
    </script>
</body>
</html>
